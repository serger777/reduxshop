{"version":3,"sources":["componets/book-list-item/book-list-item.module.css","componets/header/Header.module.css","componets/book-list/book-list.module.css","componets/app/app.module.css","store.js","componets/bookstore-service/book-store-context.js","componets/hoc/with-bookstore-service.js","componets/book-list-item/index.js","componets/book-list-item/book-list-item.js","actions/index.js","componets/spinner/index.js","componets/spinner/spinner.js","componets/error-indicator/error-indicator.js","componets/book-list/book-list.js","componets/pages/HomePage.js","componets/pages/CartPage.js","componets/header/Header.js","componets/ShopingList/ShopingList.js","componets/ShopingCart/ShopingCart.js","componets/app/index.js","componets/app/app.js","componets/error-boundry/index.js","componets/error-boundry/error-boundry.js","services/book-servise.js","reducers/BookList.js","reducers/ShoppingCart.js","reducers/index.js","index.js","componets/ShopingList/ShopingList.module.css"],"names":["module","exports","timeout","React","createContext","BookStoreServiceProvider","Provider","BookStoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","BookListItem","book","onAddedToCart","title","author","price","imgUrl","className","style","wrap","image","src","alt","item","onClick","bookId","type","payload","fetchBooks","dispatch","getBooks","then","data","catch","err","spinner","ErrorIndicator","error","BookList","books","map","key","id","BookListContainer","this","loading","message","Component","connect","bookList","ownProps","bindActionCreators","HomePage","CartPage","shoppingCart","cartItems","countTotal","numItems","length","header","link","to","mapDispatchToProps","dec","inc","dell","items","total","orderTotal","wrap_item","count","order_tottal","ShopingCart","App","main","path","component","exact","ErrorBoundry","state","hasError","errorInfo","setState","children","BookService","Promise","resolve","reject","setTimeout","updateBookLIst","action","undefined","updateCarItems","idx","slice","updateOrder","quantity","find","itemIndex","findIndex","newItem","updateCartItem","updateShoppingCart","reducer","store","createStore","applyMiddleware","thunkMiddlewere","getState","next","BookstoreService","ReactDom","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.45e2e2eb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"book-list-item_item__pgd4W\",\"wrap\":\"book-list-item_wrap__im8C7\",\"image\":\"book-list-item_image__2rBfG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3GuQT\",\"link\":\"Header_link__TgU06\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"book-list_wrap__3RFH-\",\"item\":\"book-list_item__3E1T7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3o7BM\"};","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddlewere from 'redux-thunk';\nimport reducer from './reducers';\n\nconst logMiddleware = ({ getState }) => (next) => (action) => next(action);\n\nconst store = createStore(reducer, applyMiddleware(thunkMiddlewere, logMiddleware));\n\nconst delayedActionCreator = (timeout) => (dispatch) => {\n\tsetTimeout(() => {\n\t\tdispatch({\n\t\t\ttype: \"DELAYD_ACTION\",\n\t\t});\n\t}, timeout);\n};\nstore.dispatch(delayedActionCreator(2000));\nexport default store;\n","import React from 'react';\n\n\nconst {\n\tProvider: BookStoreServiceProvider,\n\tConsumer: BookStoreServiceConsumer,\n} = React.createContext();\n\n\nexport {\n\tBookStoreServiceProvider,\n\tBookStoreServiceConsumer,\n};\n","import React from 'react';\nimport { BookStoreServiceConsumer } from \"../bookstore-service\";\n\nconst withBookstoreService = () => (Wrapped) => (props) => (\n\t<BookStoreServiceConsumer>\n\t\t{\n\t\t\t(bookstoreService) => (<Wrapped {...props}\n\t\t\t\tbookstoreService={bookstoreService}\n\t\t\t/>)\n\t\t}\n\t</BookStoreServiceConsumer>\n);\nexport default withBookstoreService;\n","import BookListItem from './book-list-item';\n\nexport default BookListItem;\n","import React from 'react';\nimport style from './book-list-item.module.css';\n\nconst BookListItem = ({ book, onAddedToCart }) => {\n\tconst {\n\t\ttitle, author, price, imgUrl,\n\t} = book;\n\treturn (\n\t\t<div className={style.wrap}>\n\t\t\t<img className={style.image} src={imgUrl} alt=\"\" />\n\t\t\t<span className={style.item}>title: {title}</span>\n\t\t\t<span className={style.item}>author: {author}</span>\n\t\t\t<span className={style.item}>price: {price}</span>\n\t\t\t<button onClick={onAddedToCart}>add</button>\n\t\t</div>\n\t);\n};\n\nexport default BookListItem;\n","const bookRequested = () => ({\n\ttype: 'FETCH_BOOKS_REQUESTED',\n});\nconst booksLoaded = (newBooks) => ({\n\ttype: 'FETCH_BOOKS_SUCCES',\n\tpayload: newBooks,\n});\n\nconst booksError = (error) => ({\n\ttype: 'FETCH_BOOKS_FAILURE',\n\tpayload: error,\n});\nconst onAddedToCart = (bookId) => ({\n\ttype: 'BOOK_ADDED_TO_CART',\n\tpayload: bookId,\n});\nconst onDecToCart = (bookId) => ({\n\ttype: 'BOOK_DEC_TO_CART',\n\tpayload: bookId,\n});\nconst allBookRemove = (bookId) => ({\n\ttype: 'ALL_BOOKS_REMOVED_FROM_CART',\n\tpayload: bookId,\n});\n\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\n\tdispatch(bookRequested());\n\tbookstoreService.getBooks()\n\t\t.then((data) => dispatch(booksLoaded(data)))\n\t\t.catch((err) => dispatch(booksError(err)));\n};\nexport {\n\tfetchBooks,\n\tonAddedToCart,\n\tonDecToCart,\n\tallBookRemove,\n};\n","import spinner from './spinner';\n\nexport default spinner;\n","import React from 'react';\n\nconst Spinner = () => (\n\t<div>\n            loading...\n\t</div>\n);\n\nexport default Spinner;\n","import React from 'react';\n\nconst ErrorIndicator = (error) => <div> {error.error} </div>;\n\nexport default ErrorIndicator;\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport BookListItem from '../book-list-item';\nimport withBookstoreService from \"../hoc/with-bookstore-service\";\nimport { fetchBooks, onAddedToCart } from '../../actions';\nimport style from './book-list.module.css';\nimport Spinner from \"../spinner\";\nimport ErrorIndicator from \"../error-indicator/error-indicator\";\n\nconst BookList = ({ books, onAddedToCart }) => (\n\t<ul className={style.wrap}>\n\t\t{\n\t\t\tbooks.map((book) => (\n\t\t\t\t<li className={style.item} key={book.id}>\n\t\t\t\t\t<BookListItem\n\t\t\t\t\t\tbook={book}\n\t\t\t\t\t\tonAddedToCart={() => onAddedToCart(book.id)}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t))\n\t\t}\n\t</ul>\n);\n\nclass BookListContainer extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.fetchBooks();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tbooks, loading, error, onAddedToCart,\n\t\t} = this.props;\n\n\t\tif (loading) {\n\t\t\treturn <Spinner />;\n\t\t}\n\t\tif (error) {\n\t\t\treturn <ErrorIndicator error={error.message} />;\n\t\t}\n\t\treturn <BookList books={books}\n\t\t\tonAddedToCart={onAddedToCart}\n\t\t/>;\n\t}\n}\n\nconst mapStateToProps = ({ bookList: { books, loading, error } }) => ({ books, loading, error });\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\tconst { bookstoreService } = ownProps;\n\treturn bindActionCreators({\n\t\tfetchBooks: fetchBooks(bookstoreService),\n\t\tonAddedToCart,\n\t}, dispatch);\n};\n\nexport default withBookstoreService()(\n\tconnect(mapStateToProps, mapDispatchToProps)(BookListContainer),\n);\n","import React from 'react';\nimport BookList from \"../book-list/book-list\";\n\nconst HomePage = () => (\n\t<div>\n\t\t<h1>Home page</h1>\n\t\t<BookList />\n\t</div>\n);\n\nexport default HomePage;\n","import React from 'react';\n\nconst CartPage = () => <h2>Cart page</h2>;\n\nexport default CartPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport style from './Header.module.css';\nimport { connect } from \"react-redux\";\n\nconst Header = ({ numItems, countTotal }) => (\n\t<header className={style.header}>\n\t\t<Link className={style.link} to=\"/\">\n\t\t\t<h3>SHOP</h3>\n\t\t</Link>\n\t\t<Link className={style.link} to=\"cart\">\n\t\t\t{numItems>0 && <p >{numItems} items {countTotal}</p> }\n\t\t</Link>\n\n\t</header>\n);\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, countTotal } }) => ({\n\tnumItems: cartItems.length,\n\tcountTotal,\n});\n\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport style from \"./ShopingList.module.css\";\nimport { onAddedToCart, onDecToCart, allBookRemove } from \"../../actions\";\n\nconst ShopingList = ({\n\titems, total, inc, dec, dell,\n}) => (\n\t<div className={style.wrap}>\n\t\t<div className={style.wrap_item}>\n\t\t\t<div className={style.item}>title</div>\n\t\t\t<div className={style.item}>total </div>\n\t\t\t<div className={style.item}>\n                    count</div>\n\t\t\t<div className={style.item}>\n\n\t\t\t</div>\n\t\t</div>\n\t\t{\n\t\t\titems.map((item) => {\n\t\t\t\tconst {\n\t\t\t\t\tid, title, count, price,\n\t\t\t\t} = item;\n\t\t\t\treturn (\n\t\t\t\t\t<div className={style.wrap_item} key={id}>\n\t\t\t\t\t\t<div className={style.item}>{title}</div>\n\t\t\t\t\t\t<div className={style.item}>{price}$ </div>\n\t\t\t\t\t\t<div className={style.item}>\n\t\t\t\t\t\t\t<span>{count}</span></div>\n\t\t\t\t\t\t<div className=\"wrap-button\">\n\t\t\t\t\t\t\t<button onClick={() => inc(id)}>-</button>\n\t\t\t\t\t\t\t<button onClick={() => dec(id)}>+</button>\n\t\t\t\t\t\t\t<button onClick={() => dell(id)}>del</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})\n\t\t}\n\t\t<div className={style.order_tottal}>TOTAL: {total}$</div>\n\t</div>\n\n);\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal } }) => ({\n\titems: cartItems,\n\ttotal: orderTotal,\n});\nconst mapDispatchToProps = {\n\tdec: onAddedToCart,\n\tinc: onDecToCart,\n\tdell: allBookRemove,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopingList);\n","import React from 'react';\nimport ShopingList from \"../ShopingList/ShopingList\";\n\nconst ShopingCart = () => (\n\t<div>\n\t\t<h2>Shoping cart</h2>\n\t\t<ShopingList />\n\t</div>\n);\n\nexport default ShopingCart;\n","import App from './app';\n\nexport default App;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { withBookstoreService } from '../hoc';\nimport HomePage from \"../pages/HomePage\";\nimport CartPage from \"../pages/CartPage\";\nimport Header from \"../header/Header\";\nimport style from './app.module.css';\nimport ShopingCart from \"../ShopingCart/ShopingCart\";\n\nconst App = () => (\n\t<main className={style.main}>\n\t\t<Header />\n\t\t<Switch>\n\t\t\t<Route path='/' component={HomePage} exact />\n\t\t\t<Route path='/cart' component={CartPage} exact />\n\t\t</Switch>\n\t\t<ShopingCart />\n\t</main>\n);\n\nexport default withBookstoreService()(App);\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","import React,{Component} from 'react';\nimport ErrorIndicator from \"../error-indicator/error-indicator\";\n\n\nexport default class ErrorBoundry extends Component{\n    state={\n        hasError: false\n    };\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({hasError: true})\n    }\n\n    render() {\n        if(this.state.hasError){\n                return (\n                    <ErrorIndicator/>\n            )\n        }else{\n          return  this.props.children\n        }\n\n    }\n}\n\n","export default class BookService {\n    data = [\n        {id: 1, title: 'js book', author: \"sergey gerasimov\", price: 22, imgUrl:\"https://cdn1.ozone.ru/multimedia/c1200/1019046801.jpg\"},\n        {id: 2, title: 'frontend middle', author: \"sergey gerasimov\",price: 25, imgUrl:\"https://cdn1.ozone.ru/multimedia/c1200/1019046801.jpg\"},\n        ];\n    getBooks(){\n        return new Promise((resolve,reject)=>{\n            setTimeout(()=>{\n                resolve(this.data)\n            },700)\n        })\n    }\n}\n","const updateBookLIst = (state, action) => {\n\tif (state === undefined) {\n\t\treturn {\n\t\t\tbooks: [],\n\t\t\tloading: true,\n\t\t\terror: null,\n\t\t};\n\t}\n\tswitch (action.type) {\n\tcase 'FETCH_BOOKS_REQUESTED':\n\t\treturn {\n\t\t\tbooks: [],\n\t\t\tloading: true,\n\t\t\terror: null,\n\t\t};\n\tcase 'FETCH_BOOKS_SUCCES':\n\t\treturn {\n\t\t\tbooks: action.payload,\n\t\t\tloading: false,\n\t\t\terror: null,\n\t\t};\n\tcase 'FETCH_BOOKS_FAILURE':\n\t\treturn {\n\t\t\tbooks: [],\n\t\t\tloading: false,\n\t\t\terror: action.payload,\n\t\t};\n\tdefault:\n\t\treturn state.bookList;\n\t}\n};\n\nexport default updateBookLIst;\n","const updateCarItems = (cartItems, item, idx) => {\n\tif (item.count === 0) {\n\t\treturn [\n\t\t\t...cartItems.slice(0, idx),\n\t\t\t...cartItems.slice(idx + 1),\n\t\t];\n\t}\n\tif (idx === -1) {\n\t\treturn [\n\t\t\t...cartItems,\n\t\t\titem,\n\t\t];\n\t}\n\n\treturn [\n\t\t...cartItems.slice(0, idx),\n\t\titem,\n\t\t...cartItems.slice(idx + 1),\n\t];\n};\nconst updateCartItem = (book, item = {}, quantity) => {\n\tconst {\n\t\tid = book.id, count = 0, title = book.title, price = 0,\n\t} = item;\n\treturn {\n\t\tid,\n\t\ttitle,\n\t\tcount: count + quantity,\n\t\tprice: price + (book.price * quantity),\n\t};\n};\nconst updateOrder = (state, bookId, quantity) => {\n\tconst { bookList: { books }, shoppingCart: { cartItems, orderTotal, countTotal } } = state;\n\tconst book = books.find((item) => item.id === bookId);\n\tconst itemIndex = cartItems.findIndex(({ id }) => id === bookId);\n\tconst item = cartItems[itemIndex];\n\tconst newItem = updateCartItem(book, item, quantity);\n\treturn {\n\t\torderTotal: orderTotal + book.price * quantity,\n\t\tcountTotal: countTotal + 1 * quantity,\n\t\tcartItems: updateCarItems(cartItems, newItem, itemIndex),\n\t};\n};\nconst updateShoppingCart = (state, action) => {\n\tif (state === undefined) {\n\t\treturn {\n\t\t\tcartItems: [],\n\t\t\torderTotal: 0,\n\t\t\tcountTotal: 0,\n\t\t};\n\t}\n\tswitch (action.type) {\n\tcase \"BOOK_ADDED_TO_CART\":\n\t\treturn updateOrder(state, action.payload, 1);\n\tcase \"BOOK_DEC_TO_CART\":\n\t\treturn updateOrder(state, action.payload, -1);\n\tcase \"ALL_BOOKS_REMOVED_FROM_CART\":\n\t\tconst item = state.shoppingCart.cartItems.find(({ id }) => id === action.payload);\n\t\treturn updateOrder(state, action.payload, -item.count);\n\tdefault:\n\t\treturn state.shoppingCart;\n\t}\n};\n\nexport default updateShoppingCart;\n","import updateBookLIst from './BookList';\nimport updateShoppingCart from './ShoppingCart';\n\nconst reducer = (state, action) => ({\n\tbookList: updateBookLIst(state, action),\n\tshoppingCart: updateShoppingCart(state, action),\n});\n\nexport default reducer;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './componets/app';\nimport ErrorBoundry from './componets/error-boundry';\nimport BookstoreService from './services/book-servise';\nimport { BookStoreServiceProvider } from './componets/bookstore-service';\nimport store from './store';\n\nconst bookstoreService = new BookstoreService();\n\nReactDom.render(\n\t<Provider store={store}>\n\t\t<ErrorBoundry>\n\t\t\t<BookStoreServiceProvider value={bookstoreService}>\n\t\t\t\t<Router>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</BookStoreServiceProvider>\n\t\t</ErrorBoundry>\n\t</Provider>,\n\tdocument.getElementById(\"root\"),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"ShopingList_wrap__-iXXF\",\"wrap_item\":\"ShopingList_wrap_item__16HgJ\",\"item\":\"ShopingList_item__18GPi\",\"order_tottal\":\"ShopingList_order_tottal__H3QTf\"};"],"sourceRoot":""}